From 9a060b6d5276f913d0fcfdde20de1896979f3e4f Mon Sep 17 00:00:00 2001
From: David Rupp <david@ruppworks.com>
Date: Fri, 4 May 2012 22:05:33 -0400
Subject: [PATCH] Added interface? predicate to detect if a class is also an
 interface

---
 src/clj/clojure/core.clj                 |    4 ++++
 test/clojure/test_clojure/predicates.clj |    4 +++-
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/src/clj/clojure/core.clj b/src/clj/clojure/core.clj
index afeb3b1..879ac55 100644
--- a/src/clj/clojure/core.clj
+++ b/src/clj/clojure/core.clj
@@ -4775,6 +4775,10 @@
    :static true}
   [x] (instance? Class x))
 
+(defn interface?
+  [x] (and (class? x)
+           (.isInterface x)))
+
 (defn- is-annotation? [c]
   (and (class? c)
        (.isAssignableFrom java.lang.annotation.Annotation c)))
diff --git a/test/clojure/test_clojure/predicates.clj b/test/clojure/test_clojure/predicates.clj
index 2923ef3..e3a853c 100644
--- a/test/clojure/test_clojure/predicates.clj
+++ b/test/clojure/test_clojure/predicates.clj
@@ -61,6 +61,7 @@
   :fn (fn [x] (* 2 x))
 
   :class java.util.Date
+  :interface java.lang.Runnable
   :object (new java.util.Date)
 
   :var (var myvar)
@@ -109,7 +110,8 @@
         :empty-vector :vector :empty-map :map :empty-set :set
         :keyword :symbol :var]
 
-  class? [:class]
+  class? [:class :interface]
+  interface? [:interface]
   var?   [:var]
   delay? [:delay]
 })
-- 
1.7.10.1

